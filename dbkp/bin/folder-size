#!/usr/bin/env python3

import os
import sys


def list_files(path):
    if os.path.isfile(path):
        yield path
    else:
        for root, ds, fs in os.walk(path):
            for f in fs:
                yield "%s/%s" % (root, f)
            for d in ds:
                yield "%s/%s" % (root, d)


def normalize_size(b):
    sufix = [" bytes", "KB", "MB", "GB", "TB"]
    n = 0
    while b > 1024:
        b = b / 1024
        n = n + 1
    return str(round(b, 2)) + sufix[n]


def size(f):
    try:
        return os.stat(f).st_size
    except:
        return 0


if len(sys.argv) < 2:
    print("Usage: %s folder_name [folder_name ...]" % sys.argv[0])
    sys.exit(1)

__, *ds = sys.argv

ts = ((d, list_files(d)) for d in ds)
ss = ((t[0], sum([size(f) for f in t[1]])) for t in ts)
for s in ss:
    print("%s: %s" % (s[0], normalize_size(s[1])))
